{% extends "_layout/base.twig" %}

{% block title %}About Us | Food Not Frenzy{% endblock %}

{% block headExtras %}
    <meta name="description" content="The story behind Food Not Frenzy - how we're fighting back against ad-filled recipe sites.">
{% endblock %}

{% block content %}
    <div class="max-w-3xl mx-auto prose">

        <h1 class="text-3xl md:text-4xl font-bold font-serif text-warm-brown mb-8 pb-2 border-b-2 border-deep-rose">{{ entry.title }}</h1>
        <p class="text-xl font-serif italic text-warm-brown mb-8">{{ entry.description }}</p>
        {{ entry.landingPageBuilder }}

        <div class="border-t border-soft-pink mt-12 pt-8">
            <h3 class="text-xl font-serif font-bold text-warm-brown mb-4">Meet Our Team</h3>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                {% for person in entry.peopleListing %}
                <div class="bg-white rounded-lg overflow-hidden shadow-md p-4 text-center">
                    <div class="w-24 h-24 mx-auto rounded-full overflow-hidden mb-4">
                        <img src="{{ person.headshot.one().url }}" alt="Elena Martinez" class="w-full h-full object-cover">
                    </div>
                    <h4 class="font-medium text-warm-brown">{{ person.firstName }} {{ person.lastName }}</h4>
                    <p class="text-gray-600 text-sm">{{ person.professionalTitle }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <script>
        // on page load get any h3 elements above ul elements and wrap both in a div called list
        document.addEventListener('DOMContentLoaded', function() {
            const uls = document.querySelectorAll('ul');
            uls.forEach(ul => {
                const h3 = ul.previousElementSibling;
                if (h3.tagName === 'H3') {
                    const list = document.createElement('div');
                    list.classList.add('list');
                    h3.parentNode.insertBefore(list, h3);
                    list.appendChild(h3);
                    list.appendChild(ul);
                }
            });
        });
    </script>

{% endblock %}